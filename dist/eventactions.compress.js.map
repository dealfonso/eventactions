{"version":3,"file":"eventactions.compress.js.map","sources":["eventactions.js"],"sourcesContent":["/**\n    MIT License\n\n    Copyright 2023 Carlos A. (https://github.com/dealfonso)\n\n    Permission is hereby granted, free of charge, to any person obtaining a copy\n    of this software and associated documentation files (the \"Software\"), to deal\n    in the Software without restriction, including without limitation the rights\n    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n    copies of the Software, and to permit persons to whom the Software is\n    furnished to do so, subject to the following conditions:\n\n    The above copyright notice and this permission notice shall be included in all\n    copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n    SOFTWARE.\n*/\n\n(function (exports) {\n\tif (typeof exports === \"undefined\") {\n\t\texports = window;\n\t}\n\tconst DEFAULT_OPTIONS_ACTION = {\n\t\tcondition: null,\n\t\tconditionAction: null,\n\t\tconfirm: null,\n\t\tconfirmAcceptText: \"OK\",\n\t\tconfirmCancelText: \"Cancel\",\n\t\texecute: null,\n\t\ttarget: null,\n\t\ttargetChildren: null,\n\t\tclassAdd: null,\n\t\tclassRemove: null,\n\t\tclassToggle: null,\n\t\tclassSet: null,\n\t\tscrollTo: null,\n\t\tcontentMethod: \"innerHTML\",\n\t\tcontentSet: null,\n\t\tcontentAppend: null,\n\t\tcontentPrepend: null,\n\t\tcontentClear: null,\n\t\tdelay: 0,\n\t\tacknowledge: null,\n\t\tacknowledgeButton: \"OK\",\n\t\tsplash: null\n\t};\n\tasync function executeAction(el, actionOptions) {\n\t\tactionOptions = Object.assign({}, EventActions.defaultActionOptions, actionOptions || {});\n\t\tlet targetElements = [];\n\t\tconst targetSelector = sanitizeValue(actionOptions.target || null);\n\t\tconst targetChildrenSelector = sanitizeValue(actionOptions.targetChildren || null);\n\t\tif (targetSelector === null && targetChildrenSelector === null) {\n\t\t\ttargetElements = [el];\n\t\t} else {\n\t\t\tif (targetSelector) {\n\t\t\t\ttry {\n\t\t\t\t\ttargetElements = [...targetElements, ...document.querySelectorAll(targetSelector)];\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.warn(`Error selecting elements with selector \"${targetSelector}\"`, error);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (targetChildrenSelector) {\n\t\t\t\ttry {\n\t\t\t\t\ttargetElements = [...targetElements, ...el.querySelectorAll(targetChildrenSelector)];\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.warn(`Error selecting children with selector \"${targetChildrenSelector}\"`, error);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst condition = sanitizeValue(actionOptions.condition || null);\n\t\tif (condition) {\n\t\t\tif (typeof condition === \"function\") {\n\t\t\t\tresult = condition.bind(el)(targetElements);\n\t\t\t\tif (!result) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet result = function () {\n\t\t\t\t\treturn eval(condition);\n\t\t\t\t}.bind(el)(targetElements);\n\t\t\t\tif (typeof result === \"function\") {\n\t\t\t\t\tresult = result.bind(el)(targetElements);\n\t\t\t\t}\n\t\t\t\tif (!result) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(`Error evaluating condition \"${condition}\":`, error);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tconst conditionAction = sanitizeValue(actionOptions.conditionAction || null);\n\t\tlet shouldSkipAction = false;\n\t\tif (conditionAction) {\n\t\t\tif (typeof conditionAction === \"function\") {\n\t\t\t\tresult = conditionAction.bind(el)(targetElements);\n\t\t\t\tif (!result) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet result = function () {\n\t\t\t\t\treturn eval(conditionAction);\n\t\t\t\t}.bind(el)(targetElements);\n\t\t\t\tif (typeof result === \"function\") {\n\t\t\t\t\tresult = result.bind(el)(targetElements);\n\t\t\t\t}\n\t\t\t\tif (!result) {\n\t\t\t\t\tshouldSkipAction = true;\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(`Error evaluating action condition \"${conditionAction}\":`, error);\n\t\t\t\tshouldSkipAction = true;\n\t\t\t}\n\t\t}\n\t\tif (shouldSkipAction) {\n\t\t\treturn true;\n\t\t}\n\t\tconst confirmMessage = sanitizeValue(actionOptions.confirm || null);\n\t\tif (confirmMessage) {\n\t\t\tconst confirmAcceptText = sanitizeValue(actionOptions.confirmAcceptText || \"OK\");\n\t\t\tconst confirmCancelText = sanitizeValue(actionOptions.confirmCancelText || \"Cancel\");\n\t\t\ttry {\n\t\t\t\tawait confirmDialog(confirmMessage, confirmAcceptText, confirmCancelText);\n\t\t\t} catch (error) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tconst execute = sanitizeValue(actionOptions.execute || null);\n\t\tif (execute) {\n\t\t\tif (typeof execute === \"function\") {\n\t\t\t\texecute.bind(el)(targetElements);\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tlet result = function () {\n\t\t\t\t\t\treturn eval(execute);\n\t\t\t\t\t}.bind(el)();\n\t\t\t\t\tif (typeof result === \"function\") {\n\t\t\t\t\t\tresult = result.bind(el)(targetElements);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(`Error executing action \"${execute}\":`, error);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst classesAdd = sanitizeValue(actionOptions.classAdd || null);\n\t\tconst classesRemove = sanitizeValue(actionOptions.classRemove || null);\n\t\tconst classesToggle = sanitizeValue(actionOptions.classToggle || null);\n\t\tconst classesSet = sanitizeValue(actionOptions.classSet || null);\n\t\tconst classListAdd = classesAdd ? classesAdd.split(/\\s+/).filter(cls => cls.trim() !== \"\") : [];\n\t\tconst classListRemove = classesRemove ? classesRemove.split(/\\s+/).filter(cls => cls.trim() !== \"\") : [];\n\t\tconst classListToggle = classesToggle ? classesToggle.split(/\\s+/).filter(cls => cls.trim() !== \"\") : [];\n\t\tconst classListSet = classesSet ? classesSet.split(/\\s+/).filter(cls => cls.trim() !== \"\") : [];\n\t\tconst intersectionSR = classListAdd.filter(cls => classListRemove.includes(cls));\n\t\tconst intersectionST = classListAdd.filter(cls => classListToggle.includes(cls));\n\t\tconst intersectionRT = classListRemove.filter(cls => classListToggle.includes(cls));\n\t\tif (intersectionSR.length > 0 || intersectionST.length > 0 || intersectionRT.length > 0) {\n\t\t\tconsole.warn(\"Cannot set, unset or toggle the same class at the same time:\", {\n\t\t\t\tclassListAdd: classListAdd,\n\t\t\t\tclassListRemove: classListRemove,\n\t\t\t\tclassListToggle: classListToggle\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n\t\tlet applyClasses = () => {\n\t\t\tfor (const targetElement of targetElements) {\n\t\t\t\tif (classListSet.length > 0) {\n\t\t\t\t\ttargetElement.classList.remove(...targetElement.classList);\n\t\t\t\t\tclassListSet.forEach(cls => {\n\t\t\t\t\t\ttargetElement.classList.add(cls);\n\t\t\t\t\t});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (classListToggle.length > 0) {\n\t\t\t\t\tclassListToggle.forEach(cls => {\n\t\t\t\t\t\ttargetElement.classList.toggle(cls);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (classListAdd.length > 0) {\n\t\t\t\t\tclassListAdd.forEach(cls => {\n\t\t\t\t\t\ttargetElement.classList.add(cls);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (classListRemove.length > 0) {\n\t\t\t\t\tclassListRemove.forEach(cls => {\n\t\t\t\t\t\ttargetElement.classList.remove(cls);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst contentMethod = sanitizeValue(actionOptions.contentMethod || \"innerHTML\");\n\t\tif (![\"innerHTML\", \"textContent\"].includes(contentMethod)) {\n\t\t\tconsole.warn(`Invalid content method: ${contentMethod}`);\n\t\t\treturn;\n\t\t}\n\t\tconst contentSet = sanitizeValue(actionOptions.contentSet || null);\n\t\tconst contentAppend = sanitizeValue(actionOptions.contentAppend || null);\n\t\tconst contentPrepend = sanitizeValue(actionOptions.contentPrepend || null);\n\t\tconst contentClear = actionOptions.contentClear === true || actionOptions.contentClear === \"true\" || actionOptions.contentClear === \"\";\n\t\tlet applyContentChanges = () => {\n\t\t\tfor (const targetElement of targetElements) {\n\t\t\t\tif (contentClear) {\n\t\t\t\t\ttargetElement[contentMethod] = \"\";\n\t\t\t\t}\n\t\t\t\tif (contentSet) {\n\t\t\t\t\ttargetElement[contentMethod] = contentSet;\n\t\t\t\t}\n\t\t\t\tif (contentAppend) {\n\t\t\t\t\ttargetElement[contentMethod] += contentAppend;\n\t\t\t\t}\n\t\t\t\tif (contentPrepend) {\n\t\t\t\t\ttargetElement[contentMethod] = contentPrepend + targetElement[contentMethod];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst scrollTo = sanitizeValue(actionOptions.scrollTo || null);\n\t\tif (scrollTo && ![\"top\", \"bottom\", \"left\", \"right\"].includes(scrollTo)) {\n\t\t\tconsole.warn(`Invalid scroll-to value: ${scrollTo}`);\n\t\t\tscrollTo = null;\n\t\t}\n\t\tlet applyScroll = () => {\n\t\t\tif (!scrollTo) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (const targetElement of targetElements) {\n\t\t\t\tswitch (scrollTo) {\n\t\t\t\tcase \"top\":\n\t\t\t\t\ttargetElement.scrollTop = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"bottom\":\n\t\t\t\t\ttargetElement.scrollTop = targetElement.scrollHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"left\":\n\t\t\t\t\ttargetElement.scrollLeft = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\ttargetElement.scrollLeft = targetElement.scrollWidth;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\tconst delay = parseFloat(actionOptions.delay) || 0;\n\t\tif (delay > 0 && !isNaN(delay)) {\n\t\t\tawait new Promise(resolve => setTimeout(resolve, delay));\n\t\t}\n\t\tapplyClasses();\n\t\tapplyContentChanges();\n\t\tapplyScroll();\n\t\tconst acknowledgeMessage = sanitizeValue(actionOptions.acknowledge || null);\n\t\tconst acknowledgeButton = sanitizeValue(actionOptions.acknowledgeButton || \"OK\");\n\t\tif (acknowledgeMessage) {\n\t\t\tawait messageDialog(acknowledgeMessage, acknowledgeButton);\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction removeEventActions(el, eventType = null) {\n\t\tif (!el || !el._eventActions) return;\n\t\tif (!eventType) {\n\t\t\tfor (const type in el._eventActions) {\n\t\t\t\tremoveEventActions(el, type);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (!el._eventActions[eventType]) return;\n\t\tif (el._eventActions.handlers && el._eventActions.handlers[eventType]) {\n\t\t\tel.removeEventListener(eventType, el._eventActions.handlers[eventType]);\n\t\t\tdelete el._eventActions.handlers[eventType];\n\t\t}\n\t\tif (el._eventActions[eventType]) {\n\t\t\tel[`on${eventType}`] = el._eventActions[eventType];\n\t\t\tdelete el._eventActions[eventType];\n\t\t} else {\n\t\t\tel[`on${eventType}`] = null;\n\t\t}\n\t\tif (el._eventActions.handlers && Object.keys(el._eventActions.handlers).length === 0) {\n\t\t\tdelete el._eventActions;\n\t\t}\n\t}\n\n\tfunction addEventActions(el, eventType = \"click\", prefix = \"ca\") {\n\t\tif (!el) return;\n\t\tif (el._eventActions && el._eventActions[eventType]) return;\n\t\tel._eventActions = el._eventActions || {};\n\t\tel._eventActions[eventType] = el[`on${eventType}`] || null;\n\t\tel[`on${eventType}`] = null;\n\n\t\tfunction actionHandler(el, prefix) {\n\t\t\tlet handler = async function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tlet conditionMet = true;\n\t\t\t\tlet splashDlg = null;\n\t\t\t\tlet options = getElementOptions(el, EventActions.defaultActionOptions, prefix, true);\n\t\t\t\tif (options && Object.keys(options).length > 0) {\n\t\t\t\t\toptions = Object.assign({}, EventActions.defaultActionOptions, options || {});\n\t\t\t\t\tconditionMet = await executeAction(el, options);\n\t\t\t\t\tif (conditionMet && options.splash) {\n\t\t\t\t\t\tif (splashDlg) {\n\t\t\t\t\t\t\tsplashDlg.modal.hide();\n\t\t\t\t\t\t\tsplashDlg = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplashDlg = splashDialog(options.splash);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet i = 1;\n\t\t\t\twhile (conditionMet) {\n\t\t\t\t\toptions = getElementOptions(el, EventActions.defaultActionOptions, `${prefix}-${i}`, true);\n\t\t\t\t\tif (options && Object.keys(options).length > 0) {\n\t\t\t\t\t\tconst clearSplash = options.splash === null || options.splash === \"\" || options.splash === \"false\" || options.splash === \"0\" || options.splash === false;\n\t\t\t\t\t\toptions = Object.assign({}, EventActions.defaultActionOptions, options || {});\n\t\t\t\t\t\tconditionMet = await executeAction(el, options);\n\t\t\t\t\t\tif (clearSplash) {\n\t\t\t\t\t\t\tif (splashDlg) {\n\t\t\t\t\t\t\t\tsplashDlg.modal.hide();\n\t\t\t\t\t\t\t\tsplashDlg = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (conditionMet && options.splash) {\n\t\t\t\t\t\t\tif (splashDlg) {\n\t\t\t\t\t\t\t\tsplashDlg.modal.hide();\n\t\t\t\t\t\t\t\tsplashDlg = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsplashDlg = splashDialog(options.splash);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (conditionMet) {\n\t\t\t\t\toptions = getElementOptions(el, EventActions.defaultActionOptions, `${prefix}-last`, true);\n\t\t\t\t\tif (options && Object.keys(options).length > 0) {\n\t\t\t\t\t\toptions = Object.assign({}, EventActions.defaultActionOptions, options || {});\n\t\t\t\t\t\tawait executeAction(el, options);\n\t\t\t\t\t\tif (options.splash === null) {\n\t\t\t\t\t\t\tif (splashDlg) {\n\t\t\t\t\t\t\t\tsplashDlg.modal.hide();\n\t\t\t\t\t\t\t\tsplashDlg = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (conditionMet && options.splash) {\n\t\t\t\t\t\t\tif (splashDlg) {\n\t\t\t\t\t\t\t\tsplashDlg.modal.hide();\n\t\t\t\t\t\t\t\tsplashDlg = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsplashDlg = splashDialog(options.splash);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\toptions = getElementOptions(el, EventActions.defaultActionOptions, `${prefix}-finally`, true);\n\t\t\t\tif (options && Object.keys(options).length > 0) {\n\t\t\t\t\toptions = Object.assign({}, EventActions.defaultActionOptions, options || {});\n\t\t\t\t\tawait executeAction(el, options);\n\t\t\t\t\tif (options.splash === null) {\n\t\t\t\t\t\tif (splashDlg) {\n\t\t\t\t\t\t\tsplashDlg.modal.hide();\n\t\t\t\t\t\t\tsplashDlg = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (conditionMet && options.splash) {\n\t\t\t\t\t\tif (splashDlg) {\n\t\t\t\t\t\t\tsplashDlg.modal.hide();\n\t\t\t\t\t\t\tsplashDlg = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplashDlg = splashDialog(options.splash);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (conditionMet) {\n\t\t\t\t\tif (el._eventActions && el._eventActions[eventType]) {\n\t\t\t\t\t\tel._eventActions[eventType].bind(el)(event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (splashDlg) {\n\t\t\t\t\tsplashDlg.modal.hide();\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn handler;\n\t\t}\n\n\t\tfunction addHandler(el, eventType, handler) {\n\t\t\tel.addEventListener(eventType, handler);\n\t\t\tel._eventActions.handlers = el._eventActions.handlers || {};\n\t\t\tel._eventActions.handlers[eventType] = handler;\n\t\t}\n\t\taddHandler(el, eventType, actionHandler(el, prefix));\n\t}\n\tconst EventActions = {\n\t\texecute: executeAction,\n\t\taddEventActions: addEventActions,\n\t\taddClickActions: el => addEventActions(el, \"click\", \"ca\"),\n\t\taddScrollActions: el => addEventActions(el, \"scroll\", \"sa\"),\n\t\tremoveEventActions: removeEventActions,\n\t\tremoveClickActions: el => removeEventActions(el, \"click\"),\n\t\tremoveScrollActions: el => removeEventActions(el, \"scroll\"),\n\t\tdefaultActionOptions: DEFAULT_OPTIONS_ACTION,\n\t\tversion: \"1.0.0\"\n\t};\n\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\tconst selectorsClick = Object.keys(EventActions.defaultActionOptions).map(opt => `[data-ca-${camelToSnakeCase(opt)}],[data-ca-1-${camelToSnakeCase(opt)}]`).join(\",\");\n\t\tconst selectorsScroll = Object.keys(EventActions.defaultActionOptions).map(opt => `[data-sa-${camelToSnakeCase(opt)}],[data-sa-1-${camelToSnakeCase(opt)}]`).join(\",\");\n\t\tdocument.querySelectorAll(`${selectorsClick}`).forEach(el => {\n\t\t\taddEventActions(el, \"click\", \"ca\");\n\t\t});\n\t\tdocument.querySelectorAll(`${selectorsScroll}`).forEach(el => {\n\t\t\taddEventActions(el, \"scroll\", \"sa\");\n\t\t});\n\t});\n\texports.EventActions = EventActions;\n\n\tfunction snakeToCamelCase(str) {\n\t\treturn str.replace(/-([a-z])/g, g => g[1].toUpperCase());\n\t}\n\n\tfunction camelToSnakeCase(str) {\n\t\tstr = str.replace(/([0-9]+)/g, g => `-${g}`);\n\t\tstr = str.replace(/[A-Z]/g, g => `-${g[0].toLowerCase()}`);\n\t\tstr = str.replace(/--+/g, \"-\");\n\t\tstr = str.replace(/^-+/, \"\").replace(/-+$/, \"\");\n\t\treturn str;\n\t}\n\n\tfunction sanitizeValue(value) {\n\t\tif (value === null || value === undefined) {\n\t\t\treturn null;\n\t\t}\n\t\tif (typeof value !== \"string\") {\n\t\t\treturn value;\n\t\t}\n\t\tvalue = value.trim();\n\t\tif (value === \"\") {\n\t\t\treturn null;\n\t\t}\n\t\treturn value;\n\t}\n\n\tfunction getElementOptions(el, defaultOptions, prefix, onlyExisting = false) {\n\t\tlet options = {};\n\t\tconst prefixStr = prefix ? `${camelToSnakeCase(prefix)}-` : \"\";\n\t\tfor (const option of Object.keys(defaultOptions)) {\n\t\t\tconst attributeName = prefixStr + camelToSnakeCase(option);\n\t\t\tconst attributeValue = el.dataset[attributeName] || el.getAttribute(`data-${attributeName}`);\n\t\t\tif (attributeValue !== null && attributeValue !== undefined) {\n\t\t\t\tif (typeof defaultOptions[option] === \"boolean\") {\n\t\t\t\t\toptions[option] = attributeValue.toLowerCase() === \"true\";\n\t\t\t\t} else if (typeof defaultOptions[option] === \"number\") {\n\t\t\t\t\toptions[option] = parseFloat(attributeValue);\n\t\t\t\t} else {\n\t\t\t\t\toptions[option] = attributeValue;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!onlyExisting) {\n\t\t\t\t\toptions[option] = defaultOptions[option];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn options;\n\t}\n\tconst DEFAULT_MODAL_OPTIONS = {\n\t\ttitle: null,\n\t\tbody: null,\n\t\tbtnAcceptText: \"Accept\",\n\t\tbtnCancelText: \"Cancel\",\n\t\tbtnAcceptClass: \"btn-primary\",\n\t\tbtnCancelClass: \"btn-secondary\",\n\t\tsize: \"md\",\n\t\tcentered: true,\n\t\tbackdrop: \"static\",\n\t\tkeyboard: true,\n\t\tfocus: true,\n\t\tonAccept: null,\n\t\tonCancel: null,\n\t\tonShow: null,\n\t\tonShown: null,\n\t\tonHide: null,\n\t\tonHidden: null,\n\t\tautoShow: true\n\t};\n\n\tfunction confirmDialog(message, btnAcceptText = \"Accept\", btnCancelText = \"Cancel\", title = null) {\n\t\tconst modalDialog = bsCreateModal({\n\t\t\ttitle: title,\n\t\t\tbody: message,\n\t\t\tbtnAcceptText: btnAcceptText,\n\t\t\tbtnCancelText: btnCancelText\n\t\t});\n\t\tif (!modalDialog) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tif (window.confirm(message)) {\n\t\t\t\t\tresolve(true);\n\t\t\t\t} else {\n\t\t\t\t\treject(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn modalDialog;\n\t}\n\n\tfunction messageDialog(message, btnAcceptText = \"OK\", title = null) {\n\t\tconst modalDialog = bsCreateModal({\n\t\t\ttitle: title,\n\t\t\tbody: message,\n\t\t\tbtnAcceptText: btnAcceptText,\n\t\t\tbtnCancelText: null\n\t\t});\n\t\tif (!modalDialog) {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\twindow.alert(message);\n\t\t\t\tresolve(true);\n\t\t\t});\n\t\t}\n\t\treturn modalDialog;\n\t}\n\n\tfunction splashDialog(splashContent = '<div class=\"spinner-border\" role=\"status\" aria-hidden=\"true\"></div>', title = null) {\n\t\tconst modalDialog = bsCreateModal({\n\t\t\ttitle: title,\n\t\t\tbody: splashContent,\n\t\t\tbtnAcceptText: null,\n\t\t\tbtnCancelText: null,\n\t\t\tbackdrop: \"static\",\n\t\t\tkeyboard: false,\n\t\t\tfocus: false\n\t\t});\n\t\treturn modalDialog;\n\t}\n\n\tfunction bsCreateModal(options = {}) {\n\t\tif (typeof bootstrap === \"undefined\" || !bootstrap.Modal) {\n\t\t\tconsole.warn(\"bsCreateModal: Bootstrap 5 is required for this function to work.\");\n\t\t\treturn null;\n\t\t}\n\t\toptions = Object.assign({}, DEFAULT_MODAL_OPTIONS, options || {});\n\t\tif (!options.title && !options.body && !options.btnAcceptText && !options.btnCancelText) {\n\t\t\tconsole.error(\"bsCreateModal: At least one of title, body, btnAcceptText or btnCancelText must be provided\");\n\t\t\treturn null;\n\t\t}\n\t\tif ([\"sm\", \"md\", \"lg\", \"xl\", \"xxl\"].indexOf(options.size) === -1) {\n\t\t\toptions.size = \"md\";\n\t\t}\n\t\tif (options.size === \"md\") {\n\t\t\toptions.size = \"\";\n\t\t} else {\n\t\t\toptions.size = `modal-${options.size}`;\n\t\t}\n\t\tif (typeof options.centered !== \"boolean\") {\n\t\t\toptions.centered = DEFAULT_MODAL_OPTIONS.centered;\n\t\t}\n\t\tif (options.backdrop !== true && options.backdrop !== false && options.backdrop !== \"static\") {\n\t\t\toptions.backdrop = DEFAULT_MODAL_OPTIONS.backdrop;\n\t\t}\n\t\tif (typeof options.keyboard !== \"boolean\") {\n\t\t\toptions.keyboard = DEFAULT_MODAL_OPTIONS.keyboard;\n\t\t}\n\t\tif (typeof options.focus !== \"boolean\") {\n\t\t\toptions.focus = DEFAULT_MODAL_OPTIONS.focus;\n\t\t}\n\t\tif (options.btnAcceptText !== null && typeof options.btnAcceptText !== \"string\") {\n\t\t\toptions.btnAcceptText = DEFAULT_MODAL_OPTIONS.btnAcceptText;\n\t\t}\n\t\tif (options.btnCancelText !== null && typeof options.btnCancelText !== \"string\") {\n\t\t\toptions.btnCancelText = DEFAULT_MODAL_OPTIONS.btnCancelText;\n\t\t}\n\t\tif (options.autoShow !== true && options.autoShow !== false) {\n\t\t\toptions.autoShow = DEFAULT_MODAL_OPTIONS.autoShow;\n\t\t}\n\t\toptions.btnAcceptText = sanitizeValue(options.btnAcceptText);\n\t\toptions.btnCancelText = sanitizeValue(options.btnCancelText);\n\t\toptions.title = sanitizeValue(options.title);\n\t\toptions.body = sanitizeValue(options.body);\n\t\tif (options.onAccept && typeof options.onAccept !== \"function\") {\n\t\t\toptions.onAccept = null;\n\t\t}\n\t\tif (options.onCancel && typeof options.onCancel !== \"function\") {\n\t\t\toptions.onCancel = null;\n\t\t}\n\t\tif (options.onShow && typeof options.onShow !== \"function\") {\n\t\t\toptions.onShow = null;\n\t\t}\n\t\tif (options.onShown && typeof options.onShown !== \"function\") {\n\t\t\toptions.onShown = null;\n\t\t}\n\t\tif (options.onHide && typeof options.onHide !== \"function\") {\n\t\t\toptions.onHide = null;\n\t\t}\n\t\tif (options.onHidden && typeof options.onHidden !== \"function\") {\n\t\t\toptions.onHidden = null;\n\t\t}\n\t\tlet modalContainer = document.createElement(\"div\");\n\t\tmodalContainer.innerHTML = `\n<div class=\"modal ${options.size}\" tabindex=\"-1\" ${options.backdrop === false ? 'data-bs-backdrop=\"false\"' : options.backdrop === \"static\" ? 'data-bs-backdrop=\"static\"' : \"\"} ${options.keyboard === false ? 'data-bs-keyboard=\"false\"' : \"\"} ${options.focus === false ? 'data-bs-focus=\"false\"' : \"\"}\">\n  <div class=\"modal-dialog ${options.centered ? \"modal-dialog-centered\" : \"\"}\">\n    <div class=\"modal-content\">\n      ${options.title === null ? \"\" : `<div class=\"modal-header\"><h5 class=\"modal-title\">${options.title}</h5></div>`}\n      ${options.body === null ? \"\" : `<div class=\"modal-body\">${options.body}</div>`}\n      ${options.btnAcceptText === null && options.btnCancelText === null ? \"\" : `\n      <div class=\"modal-footer\">\n        ${options.btnCancelText === null ? \"\" : `<button type=\"button\" class=\"btn ${options.btnCancelClass}\" data-bs-dismiss=\"modal\">${options.btnCancelText}</button>`}\n        ${options.btnAcceptText === null ? \"\" : `<button type=\"button\" class=\"btn ${options.btnAcceptClass}\">${options.btnAcceptText}</button>`}\n      </div>`}\n    </div>\n  </div>\n</div>`;\n\t\tconst acceptButton = modalContainer.querySelector(\".btn-primary\");\n\t\tconst cancelButton = modalContainer.querySelector(\".btn-secondary\");\n\t\tconst modalElement = modalContainer.querySelector(\".modal\");\n\t\tdocument.body.appendChild(modalContainer);\n\t\tconst modal = new bootstrap.Modal(modalElement);\n\t\toptions = Object.assign({}, DEFAULT_MODAL_OPTIONS, options || {});\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (options.btnAcceptText) {\n\t\t\t\tacceptButton.addEventListener(\"click\", e => {\n\t\t\t\t\tif (options.onAccept && typeof options.onAccept === \"function\") {\n\t\t\t\t\t\toptions.onAccept(e, modalElement);\n\t\t\t\t\t}\n\t\t\t\t\tresolve(\"accept\");\n\t\t\t\t\tmodal.hide();\n\t\t\t\t}, {\n\t\t\t\t\tonce: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (options.btnCancelText) {\n\t\t\t\tcancelButton.addEventListener(\"click\", e => {\n\t\t\t\t\tif (options.onCancel && typeof options.onCancel === \"function\") {\n\t\t\t\t\t\toptions.onCancel(e, modalElement);\n\t\t\t\t\t}\n\t\t\t\t\treject(\"cancel\");\n\t\t\t\t\tmodal.hide();\n\t\t\t\t}, {\n\t\t\t\t\tonce: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (options.keyboard === true) {\n\t\t\t\tmodalElement.addEventListener(\"keydown\", e => {\n\t\t\t\t\tif (e.key === \"Escape\") {\n\t\t\t\t\t\tif (options.onCancel && typeof options.onCancel === \"function\") {\n\t\t\t\t\t\t\toptions.onCancel(e, modalElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treject(\"cancel\");\n\t\t\t\t\t\tmodal.hide();\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tonce: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (options.onShow && typeof options.onShow === \"function\") {\n\t\t\t\tmodalElement.addEventListener(\"show.bs.modal\", e => {\n\t\t\t\t\toptions.onShow(e, modalElement);\n\t\t\t\t}, {\n\t\t\t\t\tonce: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (options.onShown && typeof options.onShown === \"function\") {\n\t\t\t\tmodalElement.addEventListener(\"shown.bs.modal\", e => {\n\t\t\t\t\toptions.onShown(e, modalElement);\n\t\t\t\t}, {\n\t\t\t\t\tonce: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (options.onHide && typeof options.onHide === \"function\") {\n\t\t\t\tmodalElement.addEventListener(\"hide.bs.modal\", e => {\n\t\t\t\t\toptions.onHide(e, modalElement);\n\t\t\t\t}, {\n\t\t\t\t\tonce: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (options.onHidden && typeof options.onHidden === \"function\") {\n\t\t\t\tmodalElement.addEventListener(\"hidden.bs.modal\", e => {\n\t\t\t\t\toptions.onHidden(e, modalElement);\n\t\t\t\t}, {\n\t\t\t\t\tonce: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tmodalElement.addEventListener(\"hide.bs.modal\", function (event) {\n\t\t\t\tif (document.activeElement) {\n\t\t\t\t\tdocument.activeElement.blur();\n\t\t\t\t}\n\t\t\t});\n\t\t\tmodalElement.addEventListener(\"hidden.bs.modal\", e => {\n\t\t\t\tmodal.dispose();\n\t\t\t\tmodalContainer.remove();\n\t\t\t}, {\n\t\t\t\tonce: true\n\t\t\t});\n\t\t});\n\t\tmodal.show();\n\t\tpromise.modal = modal;\n\t\treturn promise;\n\t}\n})(window);\n"],"names":["exports","window","DEFAULT_OPTIONS_ACTION","condition","conditionAction","confirm","confirmAcceptText","confirmCancelText","execute","target","targetChildren","classAdd","classRemove","classToggle","classSet","scrollTo","contentMethod","contentSet","contentAppend","contentPrepend","contentClear","delay","acknowledge","acknowledgeButton","splash","async","executeAction","el","actionOptions","Object","assign","EventActions","defaultActionOptions","let","targetElements","targetSelector","sanitizeValue","targetChildrenSelector","document","querySelectorAll","error","console","warn","result","bind","eval","shouldSkipAction","confirmMessage","await","confirmDialog","classesAdd","classesRemove","classesToggle","classesSet","classListAdd","split","filter","cls","trim","classListRemove","classListToggle","classListSet","intersectionSR","includes","intersectionST","intersectionRT","length","applyClasses","targetElement","classList","remove","forEach","add","toggle","applyContentChanges","applyScroll","scrollTop","scrollHeight","scrollLeft","scrollWidth","parseFloat","acknowledgeMessage","isNaN","Promise","resolve","setTimeout","messageDialog","removeEventActions","eventType","_eventActions","handlers","removeEventListener","keys","type","addEventActions","prefix","handler","addEventListener","event","preventDefault","stopPropagation","conditionMet","splashDlg","options","getElementOptions","i","modal","hide","splashDialog","clearSplash","addClickActions","addScrollActions","removeClickActions","removeScrollActions","version","snakeToCamelCase","str","replace","g","toUpperCase","camelToSnakeCase","toLowerCase","value","defaultOptions","onlyExisting","option","prefixStr","attributeName","attributeValue","dataset","getAttribute","selectorsClick","map","opt","join","selectorsScroll","DEFAULT_MODAL_OPTIONS","title","body","btnAcceptText","btnCancelText","btnAcceptClass","btnCancelClass","size","centered","backdrop","keyboard","focus","onAccept","onCancel","onShow","onShown","onHide","onHidden","autoShow","message","bsCreateModal","reject","alert","splashContent","bootstrap","Modal","indexOf","modalContainer","createElement","acceptButton","innerHTML","querySelector","cancelButton","modalElement","appendChild","promise","e","once","key","activeElement","blur","dispose","show"],"mappings":"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"}